{
    "$schema": "http://schema.express.azure.com/schemas/2015-01-01-alpha/RolloutSpec.json",
    "contentVersion": "1.0.0.0",

    "rolloutMetadata": {
        "serviceModelPath": "ServiceModel.json",
        "name": "trydotnet 1.0.0.0",
        "rolloutType": "Major",
        "buildSource": {
            "parameters": {
                "VersionFile": "buildver.txt"
            }
        }
    },

    "orchestratedSteps": [
        {
            "name": "Deploy TDN",
            "targetType": "ServiceResource",
            "targetName": "TDN",
            "actions": [ "Deploy" ]
        },
        {
            "name": "Deploy Endpoint",
            "targetType": "ServiceResourceGroup",
            "targetName": "traffic-manager-root",
            "actions": [ "Deploy" ],
            "DependsOn": [ "Deploy TDN" ]
        },
        {
            "name": "Deploy Cert And Binding",
            "targetType": "ServiceResource",
            "targetName": "cert-and-binding",
            "actions": [ "Deploy" ],
            "DependsOn": [ "Deploy Endpoint" ]
        }
    ]
}
